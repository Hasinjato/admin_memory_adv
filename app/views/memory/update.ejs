<!Doctype html>
<html en='fr'
    class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Tous les mémoires</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy"
        content="default-src: 'self'; base-uri: 'self'; style-src: 'self'; plugin-types: 'none'; object-src: 'none'">

    <link rel="shortcut icon" type="image/png" href="/template/strdash/images/icon/favicon.ico">
    <link rel="stylesheet" href="/assets/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/template/strdash/css/font-awesome.min.css">
    <link rel="stylesheet" href="/template/strdash/css/themify-icons.css">
    <!-- others css -->
    <link rel="stylesheet" href="/template/strdash/css/typography.css">
    <link rel="stylesheet" href="/template/strdash/css/default-css.css">
    <link rel="stylesheet" href="/template/strdash/css/styles.css">
    <link rel="stylesheet" href="/template/strdash/css/responsive.css">
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <!-- preloader area start -->
    <div id="preloader">
        <div class="loader"></div>
    </div> <!-- preloader area end -->
    <!-- page container area start -->
    <div>
        <%- include ('../components/sidebar.ejs') %>
            <!-- sidebar menu area end -->
            <div class="main-content position-absolute top-0 end-0" style="min-height: 313px">
                <!-- main content area start -->
                <div class="">
                    <!-- header area start -->
                    <%- include ('../components/header.ejs') %>
                        <!-- header area end -->
                        <!-- page title area start -->
                        <div class="page-title-area d-print-none">
                            <div class="row align-items-center">
                                <div class="col-sm-8">
                                    <div class="breadcrumbs-area clearfix">
                                        <ul class="breadcrumbs pull-left">
                                            <li><a href="/home">Accueil</a></li>
                                            <li><span>Tous Les Mémoires</span></li>
                                        </ul>
                                    </div>
                                </div>
                                <%- include('../components/account.ejs') %>
                            </div>
                        </div>
                        <!-- page title area end -->
                        <div class="main-content-inner">
                            <div class="row">
                                <div class="col-lg-6 col-md-8 mt-5 m-auto">
                                    <div class="card card-bordered">
                                        <div class="card-body">
                                            <% if (memory !==null){ %>
                                                <h5 class="card-text fw-bolder mb-3">Modifier les informations de mémoire de :
                                                </h5>
                                                <form method="post" action="/memory/<%= memory.id %>">
                                                    <div class="form-group">
                                                        <input type="text" name="student_name" class="form-control mb-3"
                                                            value="<%= memory.student_name %>" placeholder="Nom de l'étudiant" autocomplete="off" />

                                                        <input type="text" name="theme" class="form-control mb-3"
                                                            value="<%= memory.theme %>" placeholder="Thème" autocomplete="off" />

                                                        <input type="text" name="degree" class="form-control mb-3"
                                                            value="<%= memory.degree %>" placeholder="Diplôme" autocomplete="off" />

                                                        <input type="text" name="mention" class="form-control mb-3"
                                                            value="<%= memory.mention %>" placeholder="Mention" autocomplete="off" />

                                                        <input type="text" name="academic_year"
                                                            class="modal-footer form-control mb-3"
                                                            value="<%= memory.academic_year %>" placeholder="Année" autocomplete="off" />

                                                        <textarea name="keywords" rows="3"
                                                            class="modal-footer form-control mb-3" placeholder="Mots-clés"
                                                            autocomplete="off"><%= memory.keywords %></textarea>

                                                        <button type="submit" class="btn btn-primary">Confirmer</button>

                                                        <div class="modal-footer">
                                                            <button onclick="
                                                                    if(confirm('Voulez-vous la supprimer ?'))
                                                                    fetch(`/memory/<%= memory.id %>/<%= memory.file %>`,{
                                                                    method: 'DELETE'})
                                                                    window.history.back()
                                                                    window.location.reload();
                                                                " class="btn fs-6 text-danger">
                                                                <i class="ti-trash"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                                <% } %>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- main content area end -->
                        <!-- footer area start-->
                        <%- include ('../components/footer.ejs') %>
                            <!-- footer area end-->
                </div>
            </div>
    </div>
    <!-- page container area end -->

    <!-- jquery latest version -->
    <script src="/template/strdash/js/vendor/jquery-2.2.4.min.js"></script>
    <!-- bootstrap 4 js -->
    <script src="/template/strdash/js/popper.min.js"></script>
    <script src="/template/strdash/js/bootstrap.min.js"></script>
    <script src="/template/strdash/js/owl.carousel.min.js"></script>
    <script src="/template/strdash/js/metisMenu.min.js"></script>
    <script src="/template/strdash/js/jquery.slimscroll.min.js"></script>
    <script src="/template/strdash/js/jquery.slicknav.min.js"></script>

    <!-- others plugins -->
    <script src="/template/strdash/js/plugins.js"></script>
    <script src="/template/strdash/js/scripts.js"></script>
</body>

</html>